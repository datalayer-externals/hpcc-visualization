!function(t,i){"function"==typeof define&&define.amd?define(["d3","../common/HTMLWidget","../layout/Surface","../common/Icon"],i):t.layout_Popup=i(t.d3,t.common_HTMLWidget,t.layout_Surface,t.common_Icon)}(this,function(t,i,e,o){function p(){i.call(this),this._tag="div",this._surfaceButtons=[]}return p.prototype=Object.create(i.prototype),p.prototype.constructor=p,p.prototype._class+=" layout_Popup",p.prototype.publish("popupState",!1,"boolean","State of the popup, visible (true) or hidden (false)",null,{}),p.prototype.publish("shrinkWrap",!1,"boolean","The popup parent container either shrinks to the size of its contents (true) or expands to fit thge popup's parentDiv (false)",null,{}),p.prototype.publish("centerPopup","none","set","Center the widget in its container element (target) or in the window",["none","container","window"],{}),p.prototype.publish("top",null,"number","Top position property of popup",null,{}),p.prototype.publish("bottom",null,"number","Bottom position property of popup",null,{}),p.prototype.publish("left",null,"number","Left position property of popup",null,{}),p.prototype.publish("right",null,"number","Right position property of popup",null,{}),p.prototype.publish("position","relative","set","Value of the 'position' property",["absolute","relative","fixed","static","initial","inherit"],{tags:["Private"]}),p.prototype.publish("widget",null,"widget","Widget",null,{tags:["Private"]}),p.prototype.updateState=function(t){t=t||!this.popupState(),this.popupState(t).render()},p.prototype.enter=function(t,e){i.prototype.enter.apply(this,arguments),this.widget().target(t),this._originalPosition=this.position()},p.prototype.update=function(t,e){i.prototype.update.apply(this,arguments),e.style({visibility:this.popupState()?null:"hidden",opacity:this.popupState()?null:0,width:this.shrinkWrap()?this.widget().width()+"px":this._size.width+"px",height:this.shrinkWrap()?this.widget().height()+"px":this._size.height+"px"}),0===this.widget().size().height&&this.widget().resize(this.size())},p.prototype.postUpdate=function(t,e){var o,p;switch(this.centerPopup()){case"container":this._parentElement&&(o=parseInt(this._parentElement.style("width"))/2-this.widget().width()/2,p=parseInt(this._parentElement.style("height"))/2-this.widget().height()/2),this.position("absolute");break;case"window":o=window.innerWidth/2-this.widget().width()/2,p=window.innerHeight/2-this.widget().height()/2,this.position("fixed");break;default:o=0,p=0,this.position(this._originalPosition)}this.pos({x:o,y:p}),i.prototype.postUpdate.apply(this,arguments),e.style("position",this.position()).style("left",this.left()+"px").style("right",this.right()+"px").style("top",this.top()+"px").style("bottom",this.bottom()+"px")},p.prototype.exit=function(t,e){this.widget()&&(this.widget(null),this.render()),i.prototype.exit.apply(this,arguments)},p.prototype.click=function(t){console.log("Clicked: "+t.id)},p});