!function(t,e){"function"==typeof define&&define.amd?define(["d3","../common/HTMLWidget","../common/TextBox","css!./AbsoluteSurface"],e):t.layout_AbsoluteSurface=e(t.d3,t.common_HTMLWidget,t.common_TextBox)}(this,function(t,e,i){function o(){e.call(this),this._tag="div"}return o.prototype=Object.create(e.prototype),o.prototype.constructor=o,o.prototype._class+=" layout_AbsoluteSurface",o.prototype.publish("units","percent","set","Units",["pixels","percent"]),o.prototype.publish("widgetX",0,"number","Widget XPos"),o.prototype.publish("widgetY",0,"number","Widget YPos"),o.prototype.publish("widgetWidth","100","string","Widget Width, omit for full"),o.prototype.publish("widgetHeight","100","string","Widget Height, omit for full"),o.prototype.publish("widget",null,"widget","Widget",null,{tags:["Private"]}),o.prototype.publish("opacity",1,"number","Opacity"),o.prototype.enter=function(t,i){e.prototype.enter.apply(this,arguments)},o.prototype.update=function(t,i){e.prototype.update.apply(this,arguments);var o=0,p=0,s=this.clientWidth(),h=this.clientHeight();switch(this.units()){case"pixels":o=this.widgetX(),p=this.widgetY(),s=""===this.widgetWidth()?s-o:Number(this.widgetWidth()),h=""===this.widgetHeight()?h-p:Number(this.widgetHeight());break;case"percent":o=this.widgetX()*s/100,p=this.widgetY()*h/100,s=""===this.widgetWidth()?s-o:Number(this.widgetWidth()*s/100),h=""===this.widgetHeight()?h-p:Number(this.widgetHeight()*h/100)}i.style("opacity",this.opacity());var r=i.selectAll("#"+this._id+" > .placeholder").data(this.widget()?[this.widget()]:[],function(t){return t._id});r.enter().append("div").attr("class","placeholder").each(function(t){t.target(this)}),r.style({left:o+"px",top:p+"px",width:s+"px",bottom:h+"px"}).each(function(t){t.resize({width:s,height:h})}),r.exit().each(function(t){t.target(null)}).remove()},o.prototype.exit=function(t,i){this.widget()&&(this.widget(null),this.render()),e.prototype.exit.apply(this,arguments)},o});