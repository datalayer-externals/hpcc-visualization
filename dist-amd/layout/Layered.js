!function(t,e){"function"==typeof define&&define.amd?define(["d3","../common/HTMLWidget","../layout/AbsoluteSurface","../common/TextBox","../common/Text","css!./Layered"],e):t.layout_Layered=e(t.d3,t.common_HTMLWidget,t.layout_AbsoluteSurface,t.common_TextBox,t.common_Text)}(this,function(t,e,n,o,i){function r(){e.call(this),this._tag="div"}return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype._class+=" layout_Layered",r.prototype.publish("surfacePadding",0,"number","Padding"),r.prototype.publish("widgets",[],"widgetArray","widgets",null,{tags:["Private"]}),r.prototype.addLayer=function(t){var e=this.widgets();return e.push(t?t:(new i).text("No widget defined for layer.")),this.widgets(e),this},r.prototype.enter=function(t,n){e.prototype.enter.apply(this,arguments),this._contentContainer=n.append("div").attr("class","container")},r.prototype.update=function(t,n){e.prototype.update.apply(this,arguments);var o=this;n.style("padding",this.surfacePadding()+"px");var i=this._contentContainer.selectAll(".content.id"+this.id()).data(this.widgets(),function(t){return t.id()});i.enter().append("div").attr("class","content id"+this.id()).each(function(t,e){t.target(this)}),i.each(function(t,e){t.resize({width:o.clientWidth(),height:o.clientHeight()}).render()}),i.exit().each(function(t,e){t.target(null)}).remove(),i.order()},r});