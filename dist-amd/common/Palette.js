!function(n,e){"function"==typeof define&&define.amd?define(["d3","colorbrewer"],e):n.common_Palette=e(n.d3)}(this,function(n){function e(n,e){if(!n)return t();var r=i[n];return r||(r=t(n,e),i[n]=r),r}function t(r,a){function u(n){return s(n)}if(!r)return["default"].concat(c.concat(o).concat(l));var s=null;if(a)s=n.scale.ordinal().range(a);else{if(c.indexOf(r)>=0)s=new n.scale[r];else if(l.indexOf(r)>=0){var f=[];switch(r){case"hpcc10":var d=t("default").colors();f=d.filter(function(n,e){return e%2?!0:!1});break;case"hpcc20":f=t("category10").colors().concat(t("hpcc10").colors())}s=n.scale.ordinal().range(f)}else if(o.indexOf(r)>0)for(var p=12;p>0;){if(colorbrewer[r][p]){s=n.scale.ordinal().range(colorbrewer[r][p]);break}--p}s||(s=n.scale.category20()),a=s.range()}return u.type=function(){return"ordinal"},u.id=function(n){return arguments.length?(r=n,u):r},u.colors=function(n){return arguments.length?(a=n,u):a},u.clone=function(n){return i[n]=t(n,this.colors()),i[n]},u.cloneNotExists=function(n){return i[n]?i[n]:this.clone(n)},u["switch"]=function(n,t){return r===n?this:arguments.length?e(n,t):e()},u}function r(n,e,t){if(!n)return a();var r=u[n];return r||(r=a(n,e,t),u[n]=r),r}function a(e,t,c){function l(n,e,t){return e===t?f.domain([e-1,t+1])(n):f.domain([e,t])(n)}if(!arguments.length){var i=["default"];for(var s in colorbrewer)-1===o.indexOf(s)&&i.push(s);return i}var f=null,d=t,p=function(e,t){t=t||32;var r=Math.ceil(t/(e.length-1)),a=[],c=null;return e.forEach(function(e){if(c)for(var t=n.scale.linear().domain([0,r]).range([c,e]).interpolate(n.interpolateLab),o=0;r>o;++o)a.push(t(o));c=e}),f=n.scale.quantize().domain([0,100]).range(a)};if(t)f=p(t,c);else{if(colorbrewer[e])for(var g=12;g>0;){if(colorbrewer[e][g]){f=p(colorbrewer[e][g]);break}--g}f||(f=p(colorbrewer.RdYlGn[11])),d=f.range()}return l.type=function(){return"rainbow"},l.id=function(n){return arguments.length?(e=n,l):e},l.colors=function(n){return arguments.length?(d=n,l):d},l.clone=function(n){return u[n]=a(n,this.color()),u[n]},l.cloneNotExists=function(n){return u[n]?u[n]:this.clone(n)},l["switch"]=function(n,t){return e===n?this:arguments.length?r(n,t):r()},l}var c=["category10","category20","category20b","category20c"],o=["Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3"],l=["hpcc10","hpcc20"],i={},u={},s=function(e,r,c,o,l){n.select(e).selectAll(".palette").data(t(),function(n){return n}).enter().append("span").attr("class","palette").attr("title",function(n){return n}).on("click",function(e){console.log(n.values(e.value).map(JSON.stringify).join("\n"))}).selectAll(".swatch").data(function(n){return t(n).colors()}).enter().append("span").attr("class","swatch").style("background-color",function(n){return n}),n.select(r).selectAll(".palette").data(a(),function(n){return n}).enter().append("span").attr("class","palette").attr("title",function(n){return n}).on("click",function(e){console.log(n.values(e.value).map(JSON.stringify).join("\n"))}).selectAll(".swatch2").data(function(n){return a(n).colors()}).enter().append("span").attr("class","swatch2").style("height","8px").style("background-color",function(n){return n});var i={id:o.join("_")+l,scale:a("custom",o,l)};n.select(c).selectAll(".palette").data([i],function(n){return n.id}).enter().append("span").attr("class","palette").attr("title",function(n){return"aaa"}).on("click",function(e){console.log(n.values(e.value).map(JSON.stringify).join("\n"))}).selectAll(".swatch2").data(function(n){for(var e=[],t=0;255>=t;++t)e.push(i.scale(t,0,255));return e}).enter().append("span").attr("class","swatch2").style("background-color",function(n){return n})};return colorbrewer.RdWhGr={3:["red","white","green"]},{ordinal:e,rainbow:r,test:s}});