!function(t,e){"function"==typeof define&&define.amd?define(["./SVGWidget","./Shape","./Text","css!./TextBox"],e):t.common_TextBox=e(t.common_SVGWidget,t.common_Shape,t.common_Text)}(this,function(t,e,i){function o(){t.call(this),this._shape=(new e).shape("rect"),this._text=new i}return o.prototype=Object.create(t.prototype),o.prototype.constructor=o,o.prototype._class+=" common_TextBox",o.prototype.publishProxy("text","_text"),o.prototype.publishProxy("shape_colorStroke","_shape","colorStroke"),o.prototype.publishProxy("shape_colorFill","_shape","colorFill"),o.prototype.publishProxy("text_colorFill","_text","colorFill"),o.prototype.publish("paddingLeft",4,"number","Padding:  Left",null,{tags:["Private"]}),o.prototype.publish("paddingRight",4,"number","Padding:  Right",null,{tags:["Private"]}),o.prototype.publish("paddingTop",4,"number","Padding:  Top",null,{tags:["Private"]}),o.prototype.publish("paddingBottom",4,"number","Padding:  Bottom",null,{tags:["Private"]}),o.prototype.publishProxy("anchor","_text"),o.prototype.publish("fixedSize",null),o.prototype.publish("tooltip","","string","Tooltip",null,{tags:["Private"]}),o.prototype.padding=function(t){return this.paddingLeft(t),this.paddingRight(t),this.paddingTop(t),this.paddingBottom(t),this},o.prototype.enter=function(e,i){t.prototype.enter.apply(this,arguments),this._tooltipElement=i.append("title"),this._shape.target(e).render(),this._text.target(e).render()},o.prototype.update=function(e,i){t.prototype.update.apply(this,arguments),this._tooltipElement.text(this.tooltip()),this._text.render();var o=this._text.getBBox(!0),p={width:this.fixedSize()?this.fixedSize().width:o.width+this.paddingLeft()+this.paddingRight(),height:this.fixedSize()?this.fixedSize().height:o.height+this.paddingTop()+this.paddingBottom()};if(this._shape.width(p.width).height(p.height).render(),this.fixedSize())switch(this.anchor()){case"start":this._text.x(-this.fixedSize().width/2+o.width/2+(this.paddingLeft()+this.paddingRight())/2).render();break;case"end":this._text.x(this.fixedSize().width/2-o.width/2-(this.paddingLeft()+this.paddingRight())/2).render()}},o.prototype.exit=function(e,i){this._shape.target(null),this._text.target(null),t.prototype.exit.apply(this,arguments)},o});