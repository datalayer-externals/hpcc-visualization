!function(t,e){"function"==typeof define&&define.amd?define(["d3","../common/SVGWidget","./IList","../common/TextBox","css!./List"],e):t.common_List=e(t.d3,t.common_SVGWidget,t.common_IList,t.common_TextBox)}(this,function(t,e,i,o){function n(t){e.call(this),i.call(this),this._listWidgets={}}return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype._class+=" common_List",n.prototype["implements"](i.prototype),n.prototype.publish("anchor","start","set","Anchor Position",["","start","middle","end"],{tags:["Private"]}),n.prototype.update=function(t,i){e.prototype.update.apply(this,arguments);var n=this,s=i.selectAll(".line").data(this.data(),function(t){return t});s.enter().append("g").attr("class","line").each(function(t){var e=(new o).target(this).paddingTop(0).paddingBottom(0).paddingLeft(8).paddingRight(8).text(t).render();e.element().on("click",function(t){n.click(t.text())}).on("dblclick",function(t){n.dblclick(t.text())}),n._listWidgets[t]=e});var r=0,a=0,c=0;for(var d in this._listWidgets)if(this._listWidgets.hasOwnProperty(d)){var p=this._listWidgets[d].getBBox();r+=p.height,a<p.width&&(a=p.width),++c}var l=-r/2;s.each(function(t){var e=n._listWidgets[t],i=e.getBBox();e.pos({x:0,y:l+i.height/2}).anchor(n.anchor()).fixedSize({width:a,height:i.height}).render(),l+=i.height}),s.exit().remove().each(function(t){n._listWidgets[t].target(null),delete n._listWidgets[t]})},n.prototype.exit=function(t,i){for(var o in this._listWidgets)this._listWidgets[o].target(null);e.prototype.exit.apply(this,arguments)},n});