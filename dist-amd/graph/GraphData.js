!function(t,e){"function"==typeof define&&define.amd?define(["dagre"],e):t.graph_GraphData=e(t.dagre)}(this,function(t){function e(){t.graphlib.Graph.call(this,{multigraph:!0,compound:!0}),this.setGraph({}),this.setDefaultNodeLabel(function(){return{}}),this.setDefaultEdgeLabel(function(){return{}})}return e.prototype=Object.create(t.graphlib.Graph.prototype),e.prototype.constructor=e,e.prototype.setData=function(t,e,r,i){for(var n=this,o={addedVertices:[],addedEdges:[]},d=0;d<t.length;++d){var s=t[d];i&&this.hasNode(s._id)||(this.setNode(s._id,s),o.addedVertices.push(s))}for(d=0;d<e.length;++d){var h=e[d];i&&this.hasEdge(h._id)||(h._sourceVertex&&h._targetVertex?(this.setEdge(h._sourceVertex._id,h._targetVertex._id,h,h._id),o.addedEdges.push(h)):console.log("Bad edge definition"))}if(r)for(d=0;d<r.length;++d)this.setParent(r[d].child._id,r[d].parent._id);if(i){var a=e.map(function(t){return t._id});this.filterEdges(function(t){return a.indexOf(t.v+"_"+t.w)<0}).forEach(function(t){});var u=t.map(function(t){return t._id});this.filterNodes(function(t){return u.indexOf(t)<0}).forEach(function(t){try{n.delNode(t)}catch(e){}})}return o},e.prototype.filterEdges=function(t){var e=[];return this.eachEdge(function(r){t(r)&&e.push(r)}),e},e.prototype.filterNodes=function(t){var e=[];return this.eachNode(function(r){t(r)&&e.push(r)}),e},e.prototype.nodeValues=function(){var t=[];return this.nodes().forEach(function(e,r){t.push(this.node(e))},this),t},e.prototype.eachNode=function(t){this.nodes().forEach(function(e,r){t(e,this.node(e))},this)},e.prototype.edgeValues=function(){var t=[];return this.edges().forEach(function(e,r){t.push(this.edge(e))},this),t},e.prototype.eachEdge=function(t){this.edges().forEach(function(e,r){t(e,e.v,e.w,this.edge(e))},this)},e.prototype.getJSON=function(){var e=t.graphlib.json.write(this);return JSON.stringify(e,function(t,e){return"value"===t?e._text&&e._text._text?e._text._text:e._id:e},"  ")},e});