!function(t,e){"function"==typeof define&&define.amd?define(["d3","../common/HTMLWidget","css!./Paginator"],e):t.other_Paginator=e(t.d3,t.common_HTMLWidget)}(this,function(t,e){function a(){e.call(this),this._tag="div",this._tNumPages=1,this._numList=[]}return a.prototype=Object.create(e.prototype),a.prototype.constructor=a,a.prototype._class+=" other_Paginator",a.prototype.publish("itemsPerPage",2,"number","Pagination items per page",null,{tags:["Private"]}),a.prototype.publish("numItems",10,"number","Pagination total number of items",null,{tags:["Private"]}),a.prototype.publish("pageNumber",1,"number","Pagination set or get the page number",null,{tags:["Private"]}),a.prototype.publish("adjacentPages",2,"number","Number of page indexes either side of current one",null,{tags:["Private"]}),a.prototype.publish("bottom",20,"number","Pagination bottom offset",null,{tags:["Private"]}),a.prototype.publish("right",20,"number","Pagination right offset",null,{tags:["Private"]}),a.prototype.postUpdate=function(t,e){},a.prototype.enter=function(t,a){e.prototype.enter.apply(this,arguments);var i=this;this.paginator=a.append("ul").attr("class","paginator pagination pagination-sm"),this.side=a.append("div").attr("class","paginator pagination side"),this.side.append("span").classed("side",!0).text("Page "),this.side.append("input").attr("type","number").attr("class","currentPageNumber").property("value",1).attr("min",1).on("change",function(){i.pageNumber(this.value),i._onSelect(this.value)}),this.side.append("span").classed("side total",!0).text(" of 1")},a.prototype.update=function(e,a){var i=this;if(a.style("bottom",this.bottom()+"px").style("right",this.right()+"px"),this._tNumPages=Math.ceil(this.numItems()/this.itemsPerPage())||1,this.pageNumber()>this._tNumPages&&this.pageNumber(1),this._numList=[],this.numItems()){this._numList.push("first");for(var s=-this.adjacentPages();s<=this.adjacentPages();s++)this.pageNumber()+s>0&&this.pageNumber()+s<=this._tNumPages&&this._numList.push(this.pageNumber()+s);this._numList.push("last")}this.side.select(".total").text(" of "+this._tNumPages),this.side.select(".currentPageNumber").property("value",this.pageNumber()),this.side.select(".currentPageNumber").attr("max",this._tNumPages);var r=this.paginator.selectAll("li").data(this._numList,function(t){return t});r.enter().append(function(t){var e=document.createElement("li");if(t!==i.pageNumber()){var a=document.createElement("a"),s=document.createTextNode(t);return a.appendChild(s),a.href="#",e.appendChild(a),e}var r=document.createElement("span");return r.innerHTML=t,e.appendChild(r),e}).on("click",function(e,a){switch(t.event.preventDefault(),i.side.select(".currentPageNumber").property("value",i.pageNumber()),e){case"first":1!==i.pageNumber()&&(i.pageNumber(1),i._onSelect(1,"previous"));break;case"last":i.pageNumber()!==i._tNumPages&&(i.pageNumber(i._tNumPages),i._onSelect(i._tNumPages,"previous"));break;default:i.pageNumber(e),i._onSelect(e)}}),r.classed("active",function(t,e){return t===i.pageNumber()}).select("a").text(function(t){return t}),r.exit().remove(),r.order(),0===this.numItems()&&t.select(e).remove()},a.prototype.exit=function(t,a){e.prototype.exit.apply(this,arguments)},a});