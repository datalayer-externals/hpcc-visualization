!function(t,e){"function"==typeof define&&define.amd?define(["d3","../common/HTMLWidget","../api/IInput","css!./Input"],e):t.form_ColorInput=e(t.d3,t.common_HTMLWidget,t.api_IInput)}(this,function(t,e,n){function p(){e.call(this),n.call(this),this._tag="div",this._inputElement=[]}return p.prototype=Object.create(e.prototype),p.prototype.constructor=p,p.prototype._class+=" form_ColorInput",p.prototype["implements"](n.prototype),p.prototype.enter=function(n,p){e.prototype.enter.apply(this,arguments);var o=this;this._inputElement[0]=p.append("input").attr("type","text"),this._inputElement[0].classed("color-text",!0),this._inputElement[1]=p.append("input").attr("type","color"),this._inputElement.forEach(function(e,n){e.on("click",function(t){t.click(t)}),e.on("blur",function(t){t.blur(t)}),e.on("change",function(e){0===n?(o._inputElement[1].property("value",t.rgb(o._inputElement[0].property("value")).toString()),o.value(o._inputElement[0].property("value"))):(o._inputElement[0].property("value",o._inputElement[1].property("value")),o.value(t.rgb(o._inputElement[1].property("value")).toString())),e.change(e)})})},p.prototype.update=function(n,p){e.prototype.update.apply(this,arguments);var o=this;this._inputElement.forEach(function(t){t.attr("name",o.name())}),this._inputElement[0].attr("type","text"),this._inputElement[1].attr("type","color"),this._inputElement[0].property("value",this.value()),this._inputElement[1].property("value",t.rgb(this.value()).toString())},p});