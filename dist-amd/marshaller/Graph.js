!function(t,e){"function"==typeof define&&define.amd?define(["d3","../common/SVGWidget","../common/TextBox","../common/Surface","../common/ResizeSurface","../chart/MultiChartSurface","../common/Palette","../graph/Graph","../graph/Vertex","../graph/Edge","./HipieDDLMixin"],e):t.marshaller_Graph=e(t.d3,t.common_SVGWidget,t.common_TextBox,t.common_Surface,t.common_ResizeSurface,t.chart_MultiChartSurface,t.common_Palette,t.graph_Graph,t.graph_Vertex,t.graph_Edge,t.marshaller_HipieDDLMixin)}(this,function(t,e,i,o,r,a,n,s,h,c,p){function u(){s.call(this),p.call(this),this._design_mode=!1,this._dashboards=[],this.graphAttributes=["snapToGrid","showEdges"],this.widgetAttributes=["layout","chartType","palette","title","columns","data"],this.layout("Hierarchy"),this.applyScaleOnLayout(!0),this.content([])}return u.prototype=Object.create(s.prototype),u.prototype.constructor=u,u.prototype.mixin(p),u.prototype._class+=" marshaller_Graph",u.prototype.publish("content",[],"widgetArray","widgets",null,{tags:["Basic"]}),u.prototype.populateContent=function(){var t=[],e=[];this._ddlVisualizations.concat(this._ddlPopupVisualizations).forEach(function(e){if(e.widget){var i=null;if(e.widget instanceof r)i=e.widget.size({width:210,height:210});else{var o=280,a=210;i=(new r).showTitle(!0).size({width:o,height:a}).content(e.widget)}i&&(e.newWidgetSurface=i),t.push(i)}e.getInputVisualizations().forEach(function(){},this)},this),this._ddlDashboards.forEach(function(t){t.visualizations.forEach(function(t){t.getInputVisualizations().forEach(function(i){e.push((new c).sourceVertex(i.newWidgetSurface).targetVertex(t.newWidgetSurface).targetMarker("arrowHead"))},this)},this)},this),this.content(t),this.data({vertices:t,edges:e})},u.prototype.enter=function(t,e){s.prototype.enter.apply(this,arguments),e.classed("graph_Graph",!0)},u.prototype.render=function(t){return this._marshallerRender(s.prototype,t),this},u.prototype.commsError=function(t,e){alert("Comms Error:\n"+t+"\n"+e)},u});